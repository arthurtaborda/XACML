#
#
# This is test set that tests configurable SQL PIP engine. It uses sample data from MySQL world database
#
# http://dev.mysql.com/doc/world-setup/en/index.html
#
# The Policy was created using the PAP Admin Tool.
#
#

#
# Default XACML Properties File
# Standard API Factories
#
xacml.dataTypeFactory=com.att.research.xacml.std.StdDataTypeFactory
xacml.pdpEngineFactory=com.att.research.xacmlatt.pdp.ATTPDPEngineFactory
xacml.pepEngineFactory=com.att.research.xacml.std.pep.StdEngineFactory
xacml.pipFinderFactory=com.att.research.xacml.std.pip.StdPIPFinderFactory
xacml.traceEngineFactory=com.att.research.xacml.std.trace.LoggingTraceEngineFactory
#
# AT&T PDP Implementation Factories
#
xacml.att.evaluationContextFactory=com.att.research.xacmlatt.pdp.std.StdEvaluationContextFactory
xacml.att.combiningAlgorithmFactory=com.att.research.xacmlatt.pdp.std.StdCombiningAlgorithmFactory
xacml.att.functionDefinitionFactory=com.att.research.xacmlatt.pdp.std.StdFunctionDefinitionFactory
xacml.att.policyFinderFactory=com.att.research.xacmlatt.pdp.std.StdPolicyFinderFactory

#
# NOTE: If you are testing against a RESTful PDP, then the PDP must be configured with the
# policies and PIP configuration as defined below. Otherwise, this is the configuration that
# the embedded PDP uses.
#

# Policies to load
#
xacml.rootPolicies=publisher,campaign
publisher.file=testsets/pip/glispa/com.glispa.publisherPolicy.xml
campaign.file=testsets/pip/glispa/com.glispa.campaignPolicy.xml

# PIP Engine Definition
#
xacml.pip.engines=dataSource

dataSource.classname=com.att.research.xacml.std.pip.engines.jdbc.JDBCEngine
dataSource.name=MySQL
dataSource.description=Source for the domain objects
# This will be the default issuer for the resolvers. NOTE: Issuer only used for attributes provided by the engine.
dataSource.issuer=com:glispa:queue
#
# This is the configuration for JDBC. You will have to setup the database and run the data\world*.sql script to
# create the tables and load the data. 
#
dataSource.type=jdbc
dataSource.jdbc.driver=com.mysql.jdbc.Driver
dataSource.jdbc.url=jdbc:mysql://localhost:3306/glispa
dataSource.jdbc.conn.user=root
dataSource.jdbc.conn.password=123456

dataSource.resolvers=pub,camp

dataSource.resolver.pub.classname=com.att.research.xacml.std.pip.engines.jdbc.ConfigurableJDBCResolver
dataSource.resolver.pub.name=Publisher
dataSource.resolver.pub.description=Returns a publisher status by id
dataSource.resolver.pub.select=SELECT status FROM publishers WHERE publisherId = ?
dataSource.resolver.pub.fields=status
dataSource.resolver.pub.field.status.id=publisher:status
dataSource.resolver.pub.field.status.datatype=http://www.w3.org/2001/XMLSchema#string
dataSource.resolver.pub.field.status.category=urn:oasis:names:tc:xacml:3.0:subject-category:access-subject
dataSource.resolver.pub.parameters=publisherId
dataSource.resolver.pub.parameters.publisherId.id=publisher:publisherId
dataSource.resolver.pub.parameters.publisherId.datatype=http://www.w3.org/2001/XMLSchema#integer
dataSource.resolver.pub.parameters.publisherId.category=urn:oasis:names:tc:xacml:3.0:subject-category:access-subject

dataSource.resolver.camp.classname=com.att.research.xacml.std.pip.engines.jdbc.ConfigurableJDBCResolver
dataSource.resolver.camp.name=Campaign
dataSource.resolver.camp.description=Returns a campaign by id
dataSource.resolver.camp.select=SELECT categoryId,os,active FROM campaigns WHERE campaignId = ?
dataSource.resolver.camp.fields=categoryId,os,active
dataSource.resolver.camp.field.categoryId.id=campaign:categoryId
dataSource.resolver.camp.field.categoryId.datatype=http://www.w3.org/2001/XMLSchema#string
dataSource.resolver.camp.field.categoryId.category=urn:oasis:names:tc:xacml:3.0:attribute-category:resource
dataSource.resolver.camp.field.os.id=campaign:os
dataSource.resolver.camp.field.os.datatype=http://www.w3.org/2001/XMLSchema#string
dataSource.resolver.camp.field.os.category=urn:oasis:names:tc:xacml:3.0:attribute-category:resource
dataSource.resolver.camp.field.active.id=campaign:active
dataSource.resolver.camp.field.active.datatype=http://www.w3.org/2001/XMLSchema#boolean
dataSource.resolver.camp.field.active.category=urn:oasis:names:tc:xacml:3.0:attribute-category:resource
dataSource.resolver.camp.parameters=campaignId
dataSource.resolver.camp.parameters.campaignId.id=campaign:campaignId
dataSource.resolver.camp.parameters.campaignId.datatype=http://www.w3.org/2001/XMLSchema#integer
dataSource.resolver.camp.parameters.campaignId.category=urn:oasis:names:tc:xacml:3.0:attribute-category:resource